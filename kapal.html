<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>SIMPAN â€“ Identitas Kapal</title>
<style>
body{font-family:Arial;background:#f4f6f8;margin:0;padding:20px}
.container{max-width:600px;margin:auto;background:#fff;padding:15px;border-radius:10px}
hr{margin:15px 0}
</style>
</head>
<body>

<div class="container">
<h2>SIMPAN</h2>
<div id="data">Memuat data kapal...</div>
</div>

<script>
const SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSBI5O8DJD_-VoI2Bf3NDHY_x1eFO8vQgrmpw7L1VW_HczX9avlE5HVX2yN16nRQ8gq_UD0xp_wWfvk/pub?gid=972225342&single=true&output=csv";

function parseCSV(text) {
  return text.split("\n").map(row =>
    row.match(/(".*?"|[^",]+)(?=,|$)/g)?.map(v => v.replace(/^"|"$/g, "")) || []
  );
}

fetch(SHEET_CSV_URL)
.then(r => r.text())
.then(text => {
  const rows = parseCSV(text);
  const header = rows[0].map(h => h.trim());
  const data = rows.slice(1);

  const col = name => header.indexOf(name);

  let html = "";

  data.forEach(row => {
    if (!row[col("ID SIMPAN")]) return;

    html += `
      <hr>
      <p><b>ID SIMPAN:</b> ${row[col("ID SIMPAN")]}</p>
      <p><b>Nama Kapal:</b> ${row[col("Nama Kapal")]}</p>
      <p><b>Desa:</b> ${row[col("Desa")]}</p>
      <p><b>Status:</b> ${row[col("STATUS VERIFIKASI")]}</p>
    `;
  });

  document.getElementById("data").innerHTML = html || "Data kosong";
});
</script>


</body>
</html>
