<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Stiker QR SIMPAN</title>

<style>
@page { size:8cm 10cm; margin:0 }

body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
}

.sticker{
  position:relative;
  width:8cm;
  height:10cm;
  border:3px solid #000;
  box-sizing:border-box;
  padding:6mm;
  background:#fff;
  overflow:hidden;
}

/* WATERMARK */
.watermark{
  position:absolute;
  inset:0;
  background-image:url("logo-simpan.png");
  background-repeat:repeat;
  background-size:80px 80px;
  opacity:0.06;
  z-index:0;
}

/* HEADER */
.header{
  height:18mm;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:2;
}
.header img{ height:16mm }

/* QR */
.qr-wrap{
  height:60mm;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  z-index:2;
}
.qr{
  width:52mm;
  height:52mm;
  border:2px solid #000;
  background:#fff;
}

/* LOGO TENGAH QR */
.qr-logo{
  position:absolute;
  width:14mm;
  height:14mm;
  background:#fff;
  padding:2px;
  border-radius:4px;
}
.qr-logo img{
  width:100%;
  height:100%;
}

/* TEXT */
.id{
  text-align:center;
  font-weight:bold;
  font-size:12pt;
  margin-top:2mm;
  z-index:2;
}
.note{
  text-align:center;
  font-size:9pt;
  margin-top:3mm;
  letter-spacing:0.5px;
  z-index:2;
}

@media screen{
  body{
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:#eee;
  }
}
</style>
</head>

<body>

<div class="sticker">
  <div class="watermark"></div>

  <!-- HEADER -->
  <div class="header">
    <img src="logo-bateng.png" alt="Bangka Tengah">
  </div>

  <!-- QR -->
  <div class="qr-wrap">
    <img id="qrImg" class="qr" alt="QR Code">
    <div class="qr-logo">
      <img src="logo-simpan.png" alt="SIMPAN">
    </div>
  </div>

  <!-- ID -->
  <div class="id" id="idText"></div>

  <!-- NOTE -->
  <div class="note">SCAN UNTUK VERIFIKASI</div>
</div>

<script>
const id = new URLSearchParams(location.search).get("id");
if(!id){
  document.body.innerHTML="ID tidak ditemukan";
  throw "";
}
document.getElementById("idText").innerText = id;

const url =
  "https://simpandiperkan-ux.github.io/simpan/kapal.html?id=" + id;

document.getElementById("qrImg").src =
  "https://api.qrserver.com/v1/create-qr-code/?size=900x900&data=" +
  encodeURIComponent(url) +
  "&_=" + Date.now();
</script>

</body>
</html>
