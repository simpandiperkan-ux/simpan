<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Stiker QR SIMPAN</title>

<style>
@page { size:8cm 8cm; margin:0 }

body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
}

.sticker{
  position:relative;
  width:8cm;
  height:8cm;
  border:3px solid #000;
  box-sizing:border-box;
  padding:6mm 6mm 10mm 6mm;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  text-align:center;
  background:#fff;
  overflow:hidden;
}

/* ===== WATERMARK REPEAT ===== */
.watermark{
  position:absolute;
  inset:0;
  background-image:url("logo-simpan.png");
  background-repeat:repeat;
  background-size:80px 80px;
  opacity:0.06;
  pointer-events:none;
  z-index:0;
}

/* HEADER */
.header{
  position:relative;
  z-index:2;
  height:16mm;
  display:flex;
  align-items:center;
  justify-content:center;
}
.header img{
  height:14mm;
}

/* QR */
.qr-wrap{
  position:relative;
  z-index:2;
  margin-top:4mm;
  margin-bottom:3mm;
}
.qr{
  width:48mm;
  height:48mm;
  border:2px solid #000;
  background:#fff;
}

/* LOGO TENGAH QR */
.qr-logo{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:12mm;
  height:12mm;
  background:#fff;
  border-radius:4px;
  padding:2px;
}
.qr-logo img{
  width:100%;
  height:100%;
}

/* TEXT */
.id{
  position:relative;
  z-index:2;
  font-size:11pt;
  font-weight:bold;
  margin-top:2mm;
}
.note{
  position:relative;
  z-index:2;
  font-size:8pt;
  margin-top:1mm;
  letter-spacing:0.5px;
}

@media screen{
  body{
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:#eee;
  }
}
</style>
</head>

<body>

<div class="sticker">
  <div class="watermark"></div>

  <!-- HEADER LOGO BATENG -->
  <div class="header">
    <img src="logo-bateng.png" alt="Bangka Tengah">
  </div>

  <!-- QR -->
  <div class="qr-wrap">
    <img id="qrImg" class="qr" alt="QR Code">
    <div class="qr-logo">
      <img src="logo-simpan.png" alt="SIMPAN">
    </div>
  </div>

  <div class="id" id="idText"></div>
  <div class="note">SCAN UNTUK VERIFIKASI</div>
</div>

<script>
/* ===== GENERATE QR FINAL ===== */
const id = new URLSearchParams(location.search).get("id");
if(!id){
  document.body.innerHTML="ID tidak ditemukan";
  throw "";
}

document.getElementById("idText").innerText = id;

const url =
  "https://simpandiperkan-ux.github.io/simpan/kapal.html?id=" + id;

/* QR STABIL */
document.getElementById("qrImg").src =
  "https://api.qrserver.com/v1/create-qr-code/?size=800x800&data=" +
  encodeURIComponent(url) +
  "&_=" + Date.now();
</script>

</body>
</html>
