<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Stiker QR SIMPAN</title>

<style>
@page { size:8cm 8cm; margin:0 }

body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
}

.sticker{
  width:8cm;
  height:8cm;
  border:3px solid #000;
  box-sizing:border-box;
  padding:6mm;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
  text-align:center;
}

.logo{
  height:14mm;
}

.qr{
  width:50mm;
  height:50mm;
  border:2px solid #000;
  background:#fff;
}

.id{
  font-size:11pt;
  font-weight:bold;
}

.note{
  font-size:8pt;
  letter-spacing:0.5px;
}

@media screen{
  body{
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:#f0f0f0;
  }
}
</style>
</head>

<body>

<div class="sticker">
  <img src="logo-simpan.png" class="logo" alt="SIMPAN">

  <img class="qr"
       id="qrImg"
       src=""
       alt="QR Code">

  <div class="id" id="idText"></div>
  <div class="note">SCAN UNTUK VERIFIKASI</div>
</div>

<script>
/* ===== FINAL QR GENERATOR (ANTI CACHE) ===== */
const params = new URLSearchParams(location.search);
const id = params.get("id");

if(!id){
  document.body.innerHTML = "ID tidak ditemukan";
  throw "";
}

document.getElementById("idText").innerText = id;

const target =
  "https://simpandiperkan-ux.github.io/simpan/kapal.html?id=" + id;

document.getElementById("qrImg").src =
  "https://api.qrserver.com/v1/create-qr-code/?size=800x800&data=" +
  encodeURIComponent(target) +
  "&_=" + Date.now(); // anti cache
</script>

</body>
</html>
